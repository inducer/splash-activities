type: PythonCodeQuestion
id: find_steeper_slope
access_rules:
    add_permissions:
        - change_answer
value: 1
timeout: 10

prompt: |
    # Steeper Line

    Using the graph paper sketches below calculate the slope. The length of the
    orange line represents $\bigtriangleup x$ and the length of the green line
    represents $\bigtriangleup y$. Slope is given by $\frac{\bigtriangleup
    y}{\bigtriangleup x}$.

    To check your answer enter the slope in the box as `slope=1`(if the slope is 1)

    **Note:** In this and the following questions, click "Submit answer for feedback"
    (without answering the question at first) to see the figure referenced above.

setup_code: |
    import numpy as np
    import matplotlib.pyplot as plt
    from matplotlib.ticker import MultipleLocator

    def process_answer(question_version, dummy_steeper_line):
        np.random.seed(question_version)
        slope1 = 8*np.random.randn(1)[0]
        slope2 = 8*np.random.randn(1)[0]
        x = np.linspace(0, 10)
        y1 = slope1*x
        y2 = slope2*x + 10*np.random.randn(1)[0]

        fig, ax = plt.subplots(figsize=(12,12))
        ax.plot(x, y1, color='red')
        ax.plot(x, y2, color='blue')

        plt.grid(b=True, which='major', color='k', linestyle='-', lw=0.2)
        plt.grid(b=True, which='minor', color='k', linestyle='--', lw=0.2)

        plt.xlabel('X')
        plt.ylabel('Y')
        plt.axis('equal')
        plt.title('Which is the steeper slope?')
        plt.show()

names_for_user: [process_answer]
names_from_user: [question_version, steeper_line]

test_code: |
    np.random.seed(question_version)
    slope1 = 8*np.random.randn(1)[0]
    slope2 = 8*np.random.randn(1)[0]

    if steeper_line == 'tie':
        if abs(slope1-slope2) < 1e-3:
            feedback.finish(1, "Well done!")
        else:
            feedback.finish(0, "Incorrect.")

    elif steeper_line == 'red':
        if slope1 > slope2:
            feedback.finish(1, "Well done!")
        else:
            feedback.finish(0, "Incorrect.")

    elif steeper_line == 'blue':
        if slope2 > slope1:
            feedback.finish(1, "Well done!")
        else:
            feedback.finish(0, "Incorrect.")

    elif steeper_line == 'tie':
        if abs(slope1-slope2) < 1e-3:
            feedback.finish(1, "Well done!")
        else:
            feedback.finish(0, "Incorrect.")
    else:
       feedback.finish(0, "Please choose one of the following as your answer: 'blue', 'red' or 'tie'. '")


initial_code: |
    question_version = 1
    steeper_line = ...
    process_answer(question_version, steeper_line)
